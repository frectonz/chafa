<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ChafaCanvas: Chafa Reference Manual</title>
<meta name="generator" content="DocBook XSL Stylesheets Vsnapshot">
<link rel="home" href="index.html" title="Chafa Reference Manual">
<link rel="up" href="ch02.html" title="Chafa C API">
<link rel="prev" href="ch02.html" title="Chafa C API">
<link rel="next" href="chafa-ChafaCanvasConfig.html" title="ChafaCanvasConfig">
<meta name="generator" content="GTK-Doc V1.33.1 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="5"><tr valign="middle">
<td width="100%" align="left" class="shortcuts">
<a href="#" class="shortcut">Top</a><span id="nav_description">  <span class="dim">|</span> 
                  <a href="#chafa-ChafaCanvas.description" class="shortcut">Description</a></span>
</td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
<td><a accesskey="u" href="ch02.html"><img src="up.png" width="16" height="16" border="0" alt="Up"></a></td>
<td><a accesskey="p" href="ch02.html"><img src="left.png" width="16" height="16" border="0" alt="Prev"></a></td>
<td><a accesskey="n" href="chafa-ChafaCanvasConfig.html"><img src="right.png" width="16" height="16" border="0" alt="Next"></a></td>
</tr></table>
<div class="refentry">
<a name="chafa-ChafaCanvas"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="chafa-ChafaCanvas.top_of_page"></a>ChafaCanvas</span></h2>
<p>ChafaCanvas — A canvas that renders to text</p>
</td>
<td class="gallery_image" valign="top" align="right"></td>
</tr></table></div>
<div class="refsect1">
<a name="chafa-ChafaCanvas.functions"></a><h2>Functions</h2>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="functions_proto_type">
<col class="functions_proto_name">
</colgroup>
<tbody>
<tr>
<td class="function_type">
<a class="link" href="chafa-ChafaCanvas.html#ChafaCanvas" title="ChafaCanvas"><span class="returnvalue">ChafaCanvas</span></a> *
</td>
<td class="function_name">
<a class="link" href="chafa-ChafaCanvas.html#chafa-canvas-new" title="chafa_canvas_new ()">chafa_canvas_new</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a class="link" href="chafa-ChafaCanvas.html#ChafaCanvas" title="ChafaCanvas"><span class="returnvalue">ChafaCanvas</span></a> *
</td>
<td class="function_name">
<a class="link" href="chafa-ChafaCanvas.html#chafa-canvas-new-similar" title="chafa_canvas_new_similar ()">chafa_canvas_new_similar</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="chafa-ChafaCanvas.html#chafa-canvas-ref" title="chafa_canvas_ref ()">chafa_canvas_ref</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="chafa-ChafaCanvas.html#chafa-canvas-unref" title="chafa_canvas_unref ()">chafa_canvas_unref</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">const <a class="link" href="chafa-ChafaCanvasConfig.html#ChafaCanvasConfig" title="ChafaCanvasConfig"><span class="returnvalue">ChafaCanvasConfig</span></a> *
</td>
<td class="function_name">
<a class="link" href="chafa-ChafaCanvas.html#chafa-canvas-peek-config" title="chafa_canvas_peek_config ()">chafa_canvas_peek_config</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="chafa-ChafaCanvas.html#chafa-canvas-draw-all-pixels" title="chafa_canvas_draw_all_pixels ()">chafa_canvas_draw_all_pixels</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="/usr/share/gtk-doc/html/glib/glib-Strings.html#GString"><span class="returnvalue">GString</span></a> *
</td>
<td class="function_name">
<a class="link" href="chafa-ChafaCanvas.html#chafa-canvas-print" title="chafa_canvas_print ()">chafa_canvas_print</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="/usr/share/gtk-doc/html/glib/glib-Unicode-Manipulation.html#gunichar"><span class="returnvalue">gunichar</span></a>
</td>
<td class="function_name">
<a class="link" href="chafa-ChafaCanvas.html#chafa-canvas-get-char-at" title="chafa_canvas_get_char_at ()">chafa_canvas_get_char_at</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="returnvalue">gint</span></a>
</td>
<td class="function_name">
<a class="link" href="chafa-ChafaCanvas.html#chafa-canvas-set-char-at" title="chafa_canvas_set_char_at ()">chafa_canvas_set_char_at</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="chafa-ChafaCanvas.html#chafa-canvas-get-colors-at" title="chafa_canvas_get_colors_at ()">chafa_canvas_get_colors_at</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="chafa-ChafaCanvas.html#chafa-canvas-set-colors-at" title="chafa_canvas_set_colors_at ()">chafa_canvas_set_colors_at</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="chafa-ChafaCanvas.html#chafa-canvas-get-raw-colors-at" title="chafa_canvas_get_raw_colors_at ()">chafa_canvas_get_raw_colors_at</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="chafa-ChafaCanvas.html#chafa-canvas-set-raw-colors-at" title="chafa_canvas_set_raw_colors_at ()">chafa_canvas_set_raw_colors_at</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="/usr/share/gtk-doc/html/glib/glib-Strings.html#GString"><span class="returnvalue">GString</span></a> *
</td>
<td class="function_name">
<a class="link" href="chafa-ChafaCanvas.html#chafa-canvas-build-ansi" title="chafa_canvas_build_ansi ()">chafa_canvas_build_ansi</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="chafa-ChafaCanvas.html#chafa-canvas-set-contents-rgba8" title="chafa_canvas_set_contents_rgba8 ()">chafa_canvas_set_contents_rgba8</a> <span class="c_punctuation">()</span>
</td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1">
<a name="chafa-ChafaCanvas.other"></a><h2>Types and Values</h2>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="other_proto_type">
<col class="other_proto_name">
</colgroup>
<tbody><tr>
<td class="typedef_keyword">typedef</td>
<td class="function_name"><a class="link" href="chafa-ChafaCanvas.html#ChafaCanvas" title="ChafaCanvas">ChafaCanvas</a></td>
</tr></tbody>
</table></div>
</div>
<div class="refsect1">
<a name="chafa-ChafaCanvas.description"></a><h2>Description</h2>
<p>A <a class="link" href="chafa-ChafaCanvas.html#ChafaCanvas" title="ChafaCanvas"><span class="type">ChafaCanvas</span></a> is a canvas that can render its contents as text strings.</p>
<p>To create a new <a class="link" href="chafa-ChafaCanvas.html#ChafaCanvas" title="ChafaCanvas"><span class="type">ChafaCanvas</span></a>, use <a class="link" href="chafa-ChafaCanvas.html#chafa-canvas-new" title="chafa_canvas_new ()"><code class="function">chafa_canvas_new()</code></a>. If you want to
specify any parameters, like the geometry, color space and so on, you
must create a <a class="link" href="chafa-ChafaCanvasConfig.html#ChafaCanvasConfig" title="ChafaCanvasConfig"><span class="type">ChafaCanvasConfig</span></a> first.</p>
<p>You can draw an image to the canvas using <a class="link" href="chafa-ChafaCanvas.html#chafa-canvas-draw-all-pixels" title="chafa_canvas_draw_all_pixels ()"><code class="function">chafa_canvas_draw_all_pixels()</code></a>
and create an ANSI text (or sixel) representation of the canvas' current
contents using <a class="link" href="chafa-ChafaCanvas.html#chafa-canvas-build-ansi" title="chafa_canvas_build_ansi ()"><code class="function">chafa_canvas_build_ansi()</code></a>.</p>
</div>
<div class="refsect1">
<a name="chafa-ChafaCanvas.functions_details"></a><h2>Functions</h2>
<div class="refsect2">
<a name="chafa-canvas-new"></a><h3>chafa_canvas_new ()</h3>
<pre class="programlisting"><a class="link" href="chafa-ChafaCanvas.html#ChafaCanvas" title="ChafaCanvas"><span class="returnvalue">ChafaCanvas</span></a> *
chafa_canvas_new (<em class="parameter"><code>const <a class="link" href="chafa-ChafaCanvasConfig.html#ChafaCanvasConfig" title="ChafaCanvasConfig"><span class="type">ChafaCanvasConfig</span></a> *config</code></em>);</pre>
<p>Creates a new canvas with the specified configuration. The
canvas makes a private copy of the configuration, so it will
not be affected by subsequent changes.</p>
<div class="refsect3">
<a name="chafa-canvas-new.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>config</p></td>
<td class="parameter_description"><p>Configuration to use or <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> for hardcoded defaults</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3">
<a name="chafa-canvas-new.returns"></a><h4>Returns</h4>
<p> The new canvas</p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="chafa-canvas-new-similar"></a><h3>chafa_canvas_new_similar ()</h3>
<pre class="programlisting"><a class="link" href="chafa-ChafaCanvas.html#ChafaCanvas" title="ChafaCanvas"><span class="returnvalue">ChafaCanvas</span></a> *
chafa_canvas_new_similar (<em class="parameter"><code><a class="link" href="chafa-ChafaCanvas.html#ChafaCanvas" title="ChafaCanvas"><span class="type">ChafaCanvas</span></a> *orig</code></em>);</pre>
<p>Creates a new canvas configured similarly to <em class="parameter"><code>orig</code></em>
.</p>
<div class="refsect3">
<a name="chafa-canvas-new-similar.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>orig</p></td>
<td class="parameter_description"><p>Canvas to copy configuration from</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3">
<a name="chafa-canvas-new-similar.returns"></a><h4>Returns</h4>
<p> The new canvas</p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="chafa-canvas-ref"></a><h3>chafa_canvas_ref ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
chafa_canvas_ref (<em class="parameter"><code><a class="link" href="chafa-ChafaCanvas.html#ChafaCanvas" title="ChafaCanvas"><span class="type">ChafaCanvas</span></a> *canvas</code></em>);</pre>
<p>Adds a reference to <em class="parameter"><code>canvas</code></em>
.</p>
<div class="refsect3">
<a name="chafa-canvas-ref.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>canvas</p></td>
<td class="parameter_description"><p>Canvas to add a reference to</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
</div>
<hr>
<div class="refsect2">
<a name="chafa-canvas-unref"></a><h3>chafa_canvas_unref ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
chafa_canvas_unref (<em class="parameter"><code><a class="link" href="chafa-ChafaCanvas.html#ChafaCanvas" title="ChafaCanvas"><span class="type">ChafaCanvas</span></a> *canvas</code></em>);</pre>
<p>Removes a reference from <em class="parameter"><code>canvas</code></em>
. When remaining references drops to
zero, the canvas is freed and can no longer be used.</p>
<div class="refsect3">
<a name="chafa-canvas-unref.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>canvas</p></td>
<td class="parameter_description"><p>Canvas to remove a reference from</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
</div>
<hr>
<div class="refsect2">
<a name="chafa-canvas-peek-config"></a><h3>chafa_canvas_peek_config ()</h3>
<pre class="programlisting">const <a class="link" href="chafa-ChafaCanvasConfig.html#ChafaCanvasConfig" title="ChafaCanvasConfig"><span class="returnvalue">ChafaCanvasConfig</span></a> *
chafa_canvas_peek_config (<em class="parameter"><code><a class="link" href="chafa-ChafaCanvas.html#ChafaCanvas" title="ChafaCanvas"><span class="type">ChafaCanvas</span></a> *canvas</code></em>);</pre>
<p>Returns a pointer to the configuration belonging to <em class="parameter"><code>canvas</code></em>
.
This can be inspected using the <a class="link" href="chafa-ChafaCanvasConfig.html#ChafaCanvasConfig" title="ChafaCanvasConfig"><span class="type">ChafaCanvasConfig</span></a> getter
functions, but not changed.</p>
<div class="refsect3">
<a name="chafa-canvas-peek-config.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>canvas</p></td>
<td class="parameter_description"><p>Canvas whose configuration to inspect</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3">
<a name="chafa-canvas-peek-config.returns"></a><h4>Returns</h4>
<p> A pointer to the canvas' immutable configuration</p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="chafa-canvas-draw-all-pixels"></a><h3>chafa_canvas_draw_all_pixels ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
chafa_canvas_draw_all_pixels (<em class="parameter"><code><a class="link" href="chafa-ChafaCanvas.html#ChafaCanvas" title="ChafaCanvas"><span class="type">ChafaCanvas</span></a> *canvas</code></em>,
                              <em class="parameter"><code><a class="link" href="chafa-Miscellaneous.html#ChafaPixelType" title="enum ChafaPixelType"><span class="type">ChafaPixelType</span></a> src_pixel_type</code></em>,
                              <em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint8"><span class="type">guint8</span></a> *src_pixels</code></em>,
                              <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> src_width</code></em>,
                              <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> src_height</code></em>,
                              <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> src_rowstride</code></em>);</pre>
<p>Replaces pixel data of <em class="parameter"><code>canvas</code></em>
 with a copy of that found at <em class="parameter"><code>src_pixels</code></em>
,
which must be in one of the formats supported by <a class="link" href="chafa-Miscellaneous.html#ChafaPixelType" title="enum ChafaPixelType"><span class="type">ChafaPixelType</span></a>.</p>
<div class="refsect3">
<a name="chafa-canvas-draw-all-pixels.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>canvas</p></td>
<td class="parameter_description"><p>Canvas whose pixel data to replace</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>src_pixel_type</p></td>
<td class="parameter_description"><p>Pixel format of <em class="parameter"><code>src_pixels</code></em>
</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>src_pixels</p></td>
<td class="parameter_description"><p>Pointer to the start of source pixel memory</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>src_width</p></td>
<td class="parameter_description"><p>Width in pixels of source pixel data</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>src_height</p></td>
<td class="parameter_description"><p>Height in pixels of source pixel data</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>src_rowstride</p></td>
<td class="parameter_description"><p>Number of bytes between the start of each pixel row</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<p class="since">Since: 1.2</p>
</div>
<hr>
<div class="refsect2">
<a name="chafa-canvas-print"></a><h3>chafa_canvas_print ()</h3>
<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Strings.html#GString"><span class="returnvalue">GString</span></a> *
chafa_canvas_print (<em class="parameter"><code><a class="link" href="chafa-ChafaCanvas.html#ChafaCanvas" title="ChafaCanvas"><span class="type">ChafaCanvas</span></a> *canvas</code></em>,
                    <em class="parameter"><code><a class="link" href="chafa-ChafaTermInfo.html#ChafaTermInfo" title="ChafaTermInfo"><span class="type">ChafaTermInfo</span></a> *term_info</code></em>);</pre>
<p>Builds a UTF-8 string of terminal control sequences and symbols
representing the canvas' current contents. This can e.g. be printed
to a terminal. The exact choice of escape sequences and symbols,
dimensions, etc. is determined by the configuration assigned to
<em class="parameter"><code>canvas</code></em>
 on its creation.</p>
<p>All output lines except for the last one will end in a newline.</p>
<div class="refsect3">
<a name="chafa-canvas-print.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>canvas</p></td>
<td class="parameter_description"><p>The canvas to generate a printable representation of</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>term_info</p></td>
<td class="parameter_description"><p>Terminal to format for, or <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> for fallback</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="chafa-canvas-print.returns"></a><h4>Returns</h4>
<p> A UTF-8 string of terminal control sequences and symbols</p>
</div>
<p class="since">Since: 1.6</p>
</div>
<hr>
<div class="refsect2">
<a name="chafa-canvas-get-char-at"></a><h3>chafa_canvas_get_char_at ()</h3>
<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Unicode-Manipulation.html#gunichar"><span class="returnvalue">gunichar</span></a>
chafa_canvas_get_char_at (<em class="parameter"><code><a class="link" href="chafa-ChafaCanvas.html#ChafaCanvas" title="ChafaCanvas"><span class="type">ChafaCanvas</span></a> *canvas</code></em>,
                          <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> x</code></em>,
                          <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> y</code></em>);</pre>
<p>Returns the character at cell (x, y). The coordinates are zero-indexed. For
double-width characters, the leftmost cell will contain the character
and the rightmost cell will contain 0.</p>
<div class="refsect3">
<a name="chafa-canvas-get-char-at.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>canvas</p></td>
<td class="parameter_description"><p>The canvas to inspect</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>x</p></td>
<td class="parameter_description"><p>Column of character cell to inspect</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>y</p></td>
<td class="parameter_description"><p>Row of character cell to inspect</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="chafa-canvas-get-char-at.returns"></a><h4>Returns</h4>
<p> The character at (x, y)</p>
</div>
<p class="since">Since: 1.8</p>
</div>
<hr>
<div class="refsect2">
<a name="chafa-canvas-set-char-at"></a><h3>chafa_canvas_set_char_at ()</h3>
<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="returnvalue">gint</span></a>
chafa_canvas_set_char_at (<em class="parameter"><code><a class="link" href="chafa-ChafaCanvas.html#ChafaCanvas" title="ChafaCanvas"><span class="type">ChafaCanvas</span></a> *canvas</code></em>,
                          <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> x</code></em>,
                          <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> y</code></em>,
                          <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Unicode-Manipulation.html#gunichar"><span class="type">gunichar</span></a> c</code></em>);</pre>
<p>Sets the character at cell (x, y). The coordinates are zero-indexed. For
double-width characters, the leftmost cell must contain the character
and the cell to the right of it will automatically be set to 0.</p>
<p>If the character is a nonprintable or zero-width, no change will be
made.</p>
<div class="refsect3">
<a name="chafa-canvas-set-char-at.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>canvas</p></td>
<td class="parameter_description"><p>The canvas to manipulate</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>x</p></td>
<td class="parameter_description"><p>Column of character cell to manipulate</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>y</p></td>
<td class="parameter_description"><p>Row of character cell to manipulate</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>c</p></td>
<td class="parameter_description"><p>The character value to store</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="chafa-canvas-set-char-at.returns"></a><h4>Returns</h4>
<p> The number of cells output (0, 1 or 2)</p>
</div>
<p class="since">Since: 1.8</p>
</div>
<hr>
<div class="refsect2">
<a name="chafa-canvas-get-colors-at"></a><h3>chafa_canvas_get_colors_at ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
chafa_canvas_get_colors_at (<em class="parameter"><code><a class="link" href="chafa-ChafaCanvas.html#ChafaCanvas" title="ChafaCanvas"><span class="type">ChafaCanvas</span></a> *canvas</code></em>,
                            <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> x</code></em>,
                            <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> y</code></em>,
                            <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> *fg_out</code></em>,
                            <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> *bg_out</code></em>);</pre>
<p>Gets the colors at cell (x, y). The coordinates are zero-indexed. For
double-width characters, both cells will contain the same colors.</p>
<p>The colors will be -1 for transparency, packed 8bpc RGB otherwise,
i.e. 0x00RRGGBB hex.</p>
<p>If the canvas is in an indexed mode, palette lookups will be made
for you.</p>
<div class="refsect3">
<a name="chafa-canvas-get-colors-at.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>canvas</p></td>
<td class="parameter_description"><p>The canvas to inspect</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>x</p></td>
<td class="parameter_description"><p>Column of character cell to inspect</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>y</p></td>
<td class="parameter_description"><p>Row of character cell to inspect</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>fg_out</p></td>
<td class="parameter_description"><p>Storage for foreground color</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>bg_out</p></td>
<td class="parameter_description"><p>Storage for background color</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<p class="since">Since: 1.8</p>
</div>
<hr>
<div class="refsect2">
<a name="chafa-canvas-set-colors-at"></a><h3>chafa_canvas_set_colors_at ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
chafa_canvas_set_colors_at (<em class="parameter"><code><a class="link" href="chafa-ChafaCanvas.html#ChafaCanvas" title="ChafaCanvas"><span class="type">ChafaCanvas</span></a> *canvas</code></em>,
                            <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> x</code></em>,
                            <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> y</code></em>,
                            <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> fg</code></em>,
                            <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> bg</code></em>);</pre>
<p>Sets the colors at cell (x, y). The coordinates are zero-indexed. For
double-width characters, both cells will be set to the same color.</p>
<p>The colors must be -1 for transparency, packed 8bpc RGB otherwise,
i.e. 0x00RRGGBB hex.</p>
<p>If the canvas is in an indexed mode, palette lookups will be made
for you.</p>
<div class="refsect3">
<a name="chafa-canvas-set-colors-at.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>canvas</p></td>
<td class="parameter_description"><p>The canvas to manipulate</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>x</p></td>
<td class="parameter_description"><p>Column of character cell to manipulate</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>y</p></td>
<td class="parameter_description"><p>Row of character cell to manipulate</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>fg</p></td>
<td class="parameter_description"><p>Foreground color</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>bg</p></td>
<td class="parameter_description"><p>Background color</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<p class="since">Since: 1.8</p>
</div>
<hr>
<div class="refsect2">
<a name="chafa-canvas-get-raw-colors-at"></a><h3>chafa_canvas_get_raw_colors_at ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
chafa_canvas_get_raw_colors_at (<em class="parameter"><code><a class="link" href="chafa-ChafaCanvas.html#ChafaCanvas" title="ChafaCanvas"><span class="type">ChafaCanvas</span></a> *canvas</code></em>,
                                <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> x</code></em>,
                                <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> y</code></em>,
                                <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> *fg_out</code></em>,
                                <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> *bg_out</code></em>);</pre>
<p>Gets the colors at cell (x, y). The coordinates are zero-indexed. For
double-width characters, both cells will contain the same colors.</p>
<p>The colors will be -1 for transparency, packed 8bpc RGB, i.e.
0x00RRGGBB hex in truecolor mode, or the raw pen value (0-255) in
indexed modes.</p>
<p>It's the caller's responsibility to handle the color values correctly
according to the canvas mode (truecolor or indexed).</p>
<div class="refsect3">
<a name="chafa-canvas-get-raw-colors-at.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>canvas</p></td>
<td class="parameter_description"><p>The canvas to inspect</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>x</p></td>
<td class="parameter_description"><p>Column of character cell to inspect</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>y</p></td>
<td class="parameter_description"><p>Row of character cell to inspect</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>fg_out</p></td>
<td class="parameter_description"><p>Storage for foreground color</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>bg_out</p></td>
<td class="parameter_description"><p>Storage for background color</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<p class="since">Since: 1.8</p>
</div>
<hr>
<div class="refsect2">
<a name="chafa-canvas-set-raw-colors-at"></a><h3>chafa_canvas_set_raw_colors_at ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
chafa_canvas_set_raw_colors_at (<em class="parameter"><code><a class="link" href="chafa-ChafaCanvas.html#ChafaCanvas" title="ChafaCanvas"><span class="type">ChafaCanvas</span></a> *canvas</code></em>,
                                <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> x</code></em>,
                                <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> y</code></em>,
                                <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> fg</code></em>,
                                <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> bg</code></em>);</pre>
<p>Sets the colors at cell (x, y). The coordinates are zero-indexed. For
double-width characters, both cells will be set to the same color.</p>
<p>The colors must be -1 for transparency, packed 8bpc RGB, i.e.
0x00RRGGBB hex in truecolor mode, or the raw pen value (0-255) in
indexed modes.</p>
<p>It's the caller's responsibility to handle the color values correctly
according to the canvas mode (truecolor or indexed).</p>
<div class="refsect3">
<a name="chafa-canvas-set-raw-colors-at.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>canvas</p></td>
<td class="parameter_description"><p>The canvas to manipulate</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>x</p></td>
<td class="parameter_description"><p>Column of character cell to manipulate</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>y</p></td>
<td class="parameter_description"><p>Row of character cell to manipulate</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>fg</p></td>
<td class="parameter_description"><p>Foreground color</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>bg</p></td>
<td class="parameter_description"><p>Background color</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<p class="since">Since: 1.8</p>
</div>
<hr>
<div class="refsect2">
<a name="chafa-canvas-build-ansi"></a><h3>chafa_canvas_build_ansi ()</h3>
<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Strings.html#GString"><span class="returnvalue">GString</span></a> *
chafa_canvas_build_ansi (<em class="parameter"><code><a class="link" href="chafa-ChafaCanvas.html#ChafaCanvas" title="ChafaCanvas"><span class="type">ChafaCanvas</span></a> *canvas</code></em>);</pre>
<div class="warning">
<p><code class="literal">chafa_canvas_build_ansi</code> has been deprecated since version 1.6 and should not be used in newly-written code.</p>
<p>Use <a class="link" href="chafa-ChafaCanvas.html#chafa-canvas-print" title="chafa_canvas_print ()"><code class="function">chafa_canvas_print()</code></a> instead.</p>
</div>
<p>Builds a UTF-8 string of ANSI sequences and symbols representing
the canvas' current contents. This can e.g. be printed to a terminal.
The exact choice of escape sequences and symbols, dimensions, etc. is
determined by the configuration assigned to <em class="parameter"><code>canvas</code></em>
 on its creation.</p>
<p>All output lines except for the last one will end in a newline.</p>
<div class="refsect3">
<a name="chafa-canvas-build-ansi.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>canvas</p></td>
<td class="parameter_description"><p>The canvas to generate an ANSI character representation of</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3">
<a name="chafa-canvas-build-ansi.returns"></a><h4>Returns</h4>
<p> A UTF-8 string of ANSI sequences and symbols</p>
</div>
</div>
<hr>
<div class="refsect2">
<a name="chafa-canvas-set-contents-rgba8"></a><h3>chafa_canvas_set_contents_rgba8 ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
chafa_canvas_set_contents_rgba8 (<em class="parameter"><code><a class="link" href="chafa-ChafaCanvas.html#ChafaCanvas" title="ChafaCanvas"><span class="type">ChafaCanvas</span></a> *canvas</code></em>,
                                 <em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint8"><span class="type">guint8</span></a> *src_pixels</code></em>,
                                 <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> src_width</code></em>,
                                 <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> src_height</code></em>,
                                 <em class="parameter"><code><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a> src_rowstride</code></em>);</pre>
<div class="warning">
<p><code class="literal">chafa_canvas_set_contents_rgba8</code> has been deprecated since version 1.2 and should not be used in newly-written code.</p>
<p>Use <a class="link" href="chafa-ChafaCanvas.html#chafa-canvas-draw-all-pixels" title="chafa_canvas_draw_all_pixels ()"><code class="function">chafa_canvas_draw_all_pixels()</code></a> instead.</p>
</div>
<p>Replaces pixel data of <em class="parameter"><code>canvas</code></em>
 with a copy of that found at <em class="parameter"><code>src_pixels</code></em>
.
The source data must be in packed 8-bits-per-channel RGBA format. The
alpha value is expressed as opacity (0xff is opaque) and is not
premultiplied.</p>
<div class="refsect3">
<a name="chafa-canvas-set-contents-rgba8.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table class="informaltable" width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>canvas</p></td>
<td class="parameter_description"><p>Canvas whose pixel data to replace</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>src_pixels</p></td>
<td class="parameter_description"><p>Pointer to the start of source pixel memory</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>src_width</p></td>
<td class="parameter_description"><p>Width in pixels of source pixel data</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>src_height</p></td>
<td class="parameter_description"><p>Height in pixels of source pixel data</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>src_rowstride</p></td>
<td class="parameter_description"><p>Number of bytes between the start of each pixel row</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div>
<div class="refsect1">
<a name="chafa-ChafaCanvas.other_details"></a><h2>Types and Values</h2>
<div class="refsect2">
<a name="ChafaCanvas"></a><h3>ChafaCanvas</h3>
<pre class="programlisting">typedef struct ChafaCanvas ChafaCanvas;
</pre>
</div>
</div>
</div>
<div class="footer">
<hr>Generated by GTK-Doc V1.33.1</div>
</body>
</html>